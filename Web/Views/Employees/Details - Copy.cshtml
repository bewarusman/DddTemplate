@* @model Domain.EmployeeContext.Employee *@
@model List<Domain.EmployeeContext.Employee>


@{
    ViewData["Title"] = "Employee Details";
}



<div class="p-16 ">
    <div class="p-8 bg-white shadow mt-24">
        <div class="grid grid-cols-1 md:grid-cols-3 mx-auto mb-14">
            <div class="relative ">
                <div class="w-48  h-48 bg-indigo-100 mx-auto rounded-full shadow-2xl absolute inset-x-0 top-0 -mt-24 flex items-center justify-center text-indigo-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                    </svg>
                </div>
            </div>
            <div class="mx-auto">
            @* <a asp-controller="EmployeeSalary" asp-action="Create"> *@
                <div>
                    <svg width="100px" height="100px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M732.1 399.3C534.6 356 696.5 82.1 425.9 104.8s-527.2 645.8-46.8 791.7 728-415 353-497.2z" fill="#464BD8" /><path d="M276.8 449.8c0 37 30 66.9 66.9 66.9h319c9.6 0 17.4 7.8 17.4 17.4v234.7c0 9.6-7.8 17.4-17.4 17.4H389.3c-62.2 0-112.5-50.4-112.5-112.5V442.3" fill="#FFFFFF" /><path d="M662.8 795.5H389.3c-67.2 0-121.8-54.6-121.8-121.8V442.3c0-5.1 4.1-9.3 9.3-9.3s9.3 4.1 9.3 9.3v7.6c0 31.8 25.9 57.7 57.7 57.7h319c14.7 0 26.6 12 26.6 26.6v234.7c0 14.6-11.9 26.6-26.6 26.6zM286.1 499.6v174.1c0 57 46.3 103.3 103.3 103.3h273.4c4.5 0 8.1-3.6 8.1-8.1V534.2c0-4.5-3.6-8.1-8.1-8.1h-319a76.2 76.2 0 0 1-57.7-26.5z" fill="#151B28" /><path d="M662.8 795.5H389.3c-67.2 0-121.8-54.6-121.8-121.8V447.1c0-40.6 33.1-73.7 73.7-73.7h319.7c5.1 0 9.3 4.1 9.3 9.3s-4.1 9.3-9.3 9.3H341.2c-30.4 0-55.2 24.8-55.2 55.2v2.7c0 31.8 25.9 57.7 57.7 57.7h319c14.7 0 26.6 12 26.6 26.6v234.7a26.5 26.5 0 0 1-26.5 26.6zM286.1 499.6v174.1c0 57 46.3 103.3 103.3 103.3h273.4c4.5 0 8.1-3.6 8.1-8.1V534.2c0-4.5-3.6-8.1-8.1-8.1h-319a76.2 76.2 0 0 1-57.7-26.5z" fill="#151B28" /><path d="M589.3 517H384.7V320.3c0-10.2 8.3-18.4 18.4-18.4h167.7c10.2 0 18.4 8.3 18.4 18.4V517z" fill="#2AEFC8" /><path d="M589.3 525.5H384.7a8.5 8.5 0 0 1-8.5-8.5V320.3c0-14.8 12.1-26.9 26.9-26.9h167.7c14.8 0 26.9 12.1 26.9 26.9V517c0.1 4.7-3.7 8.5-8.4 8.5z m-196.1-17h187.7V320.3c0-5.5-4.5-10-10-10H403.1c-5.5 0-10 4.5-10 10v188.2z" fill="#151B28" /><path d="M422.2 307.7h44.9V511h-44.9z" fill="#FFFFFF" /><path d="M467.1 515.7h-44.9a4.8 4.8 0 0 1-4.8-4.8V307.7c0-2.6 2.1-4.8 4.8-4.8h44.9c2.6 0 4.8 2.1 4.8 4.8V511c0 2.6-2.2 4.7-4.8 4.7z m-40.1-9.5h35.4V312.4H427v193.8z m74.6-178h15.5v42.5h-15.5zM501.6 386.1h15.5v104.5h-15.5zM542.2 328.2h15.5v162.4h-15.5z" fill="#151B28" /><path d="M694.1 588.8H521.5c-25.7 0-48.6 18.8-51 44.3-2.8 29.3 20.2 54 48.9 54h174.7c5.8 0 10.4-4.7 10.4-10.4v-77.5c0-5.7-4.6-10.4-10.4-10.4z" fill="#464BD8" /><path d="M694.1 696.1H519.4c-16.3 0-32-6.9-43-19a58.23 58.23 0 0 1-14.8-44.8c2.8-29.4 29.1-52.4 60-52.4h172.6c10.7 0 19.4 8.7 19.4 19.4v77.5c-0.1 10.6-8.8 19.3-19.5 19.3z m-172.6-98.3c-21.7 0-40.2 15.9-42.1 36.2a39.63 39.63 0 0 0 10.3 31 40.3 40.3 0 0 0 29.8 13.2h174.7c0.8 0 1.5-0.7 1.5-1.5v-77.5c0-0.8-0.7-1.5-1.5-1.5l-172.7 0.1z" fill="#151B28" /><path d="M523.3 638m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z" fill="#FFFFFF" /></svg>
                    @* <div class="font-extrabold	">
                        Pay Salary
                    </div> *@
                        <div class="flex justify-center mt-4">
                            <button onclick="paySalary()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                                Pay Salary
                            </button>
                        </div>
                </div>
            @* </a> *@

           
            </div>




        </div>

        <div class="flex justify-around">

            @if (Model.Count != 0)
            {
                <div class="mt-20 text-center border-b pb-12  w-[50%]">
                    <h1 class="text-4xl font-medium text-gray-700">@Model[0].FirstName, @Model[0].LastName</h1>
                    <p class="font-light text-gray-600 mt-3">@Model[0].Email</p>

                    <p class="mt-8 text-gray-500">@Model[0].PhoneNumber</p>
                    <p class="mt-2 text-gray-500">Salary: @(@Model[0].Amount != null ? @Model[0].Amount.ToString() : "0")  </p>
                </div>
            }
            else
            {
                <div class="mt-20 text-center border-b pb-12 w-[50%]">
                    <p>No employee details found.</p>
                </div>
            }


        </div>
        <h1 class="mx-auto text-2xl font-bold text-center p-4">Employee Salaries </h1>
        <div class="m text-center border-b pb-12  w-[100%] ">

            <div class="flex flex-col">
                <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
                    <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
                        <div class="overflow-hidden">
                            <table class="min-w-full text-left text-sm font-light">
                                <thead class="border-b font-medium dark:border-neutral-500">
                                    <tr>
                                        <th scope="col" class="px-6 py-4">Year</th>
                                        <th scope="col" class="px-6 py-4">Month</th>
                                        <th scope="col" class="px-6 py-4">Amount</th>
                                        <th scope="col" class="px-6 py-4">Bonus</th>
                                        <th scope="col" class="px-6 py-4">Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var employees in Model)
                                    {

                                        <tr class="border-b dark:border-neutral-500">
                                            <td class="whitespace-nowrap px-6 py-4 font-medium">
                                                <!-- Hidden input fields for each employee -->
                                                <input type="hidden" name="employeeId" value="@employees.Id" />
                                                <input type="hidden" name="salaryId" value="@employees.SalaryId" />
                                                <input type="hidden" name="amount" value="@employees.Amount" />
                                                <input type="hidden" name="bonus" value="@employees.Bonus" />
                                                <input type="hidden" name="year" value="@employees.Year" />
                                                <input type="hidden" name="month" value="@employees.Month" />
                                            </td>
                                            <td class="whitespace-nowrap px-6 py-4 font-medium">@employees.Year</td>
                                            <td class="whitespace-nowrap px-6 py-4 font-medium">@employees.Month</td>
                                            <td class="whitespace-nowrap px-6 py-4 font-medium">@employees.Amount</td>
                                            <td class="whitespace-nowrap px-6 py-4 font-medium">@employees.Bonus</td>
                                            <td class="whitespace-nowrap px-6 py-4 font-medium">@employees.Total</td>

                                        </tr>
                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>

     function paySalary() {
            // Submit the form
            document.getElementById("payForm").submit();
        }

    </script>
}
